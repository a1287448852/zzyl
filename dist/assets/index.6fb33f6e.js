import{d as S,b as L,e as s,o as h,h as N,q as C,i as l,w as n,B,z as y,A as D,g as m,f as E,_ as z,r as v,F as K,E as $,y as W}from"./index.c5b6faf2.js";import{g as x,c as I,d as U}from"./date.a9e2d8fb.js";import{a as O}from"./liveIn.c94c5d2b.js";import{N as R}from"./index.ea73f821.js";import{f as H}from"./commonData.8892e613.js";const q=[{title:"\u5E8F\u53F7",align:"left",width:100,minWidth:100,colKey:"rowIndex"},{title:"\u5408\u540C\u7F16\u53F7",minWidth:180,colKey:"contractNo"},{title:"\u5408\u540C\u540D\u79F0",minWidth:180,colKey:"name"},{title:"\u8001\u4EBA\u59D3\u540D",minWidth:180,colKey:"elderName"},{title:"\u8001\u4EBA\u8EAB\u4EFD\u8BC1\u53F7",minWidth:"200px",colKey:"idCardNo"},{title:"\u5408\u540C\u671F\u9650",minWidth:350,colKey:"time"},{title:"\u5408\u540C\u72B6\u6001",colKey:"status",width:120,minWidth:"120px",cell:(a,{row:i})=>{const u={0:{label:"\u672A\u751F\u6548"},1:{label:"\u751F\u6548\u4E2D"},2:{label:"\u5DF2\u8FC7\u671F"},3:{label:"\u5DF2\u5931\u6548"}};return a("span",{class:`status-dot status-contract-${i.status}`},u[i.status].label)}},{title:"\u521B\u5EFA\u4EBA",minWidth:180,colKey:"creator"},{title:"\u521B\u5EFA\u65F6\u95F4",minWidth:220,colKey:"createTime"},{align:"left",fixed:"right",width:70,minWidth:"70px",colKey:"op",title:"\u64CD\u4F5C"}],M={class:"baseList"},G={class:"tableBoxs"},P={class:"operateCon"},J=["onClick"],Q="index",X=S({__name:"TableList",props:{listData:{type:Object,default:()=>[]},total:{type:Number,default:0},pagination:{type:Object,default:()=>({})},dataLoading:{type:Boolean,default:!1}},emits:["handleOpen","getCurrent"],setup(a,{emit:i}){const u=L(),p=i,t=d=>{u.push({path:"/liveIn/trackDetails",query:{id:d.id}})},r=d=>{p("getCurrent",d)};return(d,c)=>{const f=s("t-table"),g=s("t-pagination");return h(),N("div",M,[C("div",G,[l(f,{data:a.listData,columns:D(q),"row-key":Q,"vertical-align":"middle",hover:!0,loading:a.dataLoading,"table-layout":"fixed","table-content-width":"100%"},{rowIndex:n(({rowIndex:e})=>[B(y(e+1),1)]),idCardNo:n(({row:e})=>[B(y(e.elderVo.idCardNo),1)]),time:n(({row:e})=>[B(y(D(x)(e.startTime))+" ~ "+y(D(x)(e.endTime)),1)]),op:n(({row:e})=>[C("div",P,[C("a",{class:"font-bt",onClick:b=>t(e)},"\u67E5\u770B",8,J)])]),empty:n(()=>[l(R)]),_:1},8,["data","columns","loading"]),m(" \u5206\u9875 "),a.total>10?(h(),E(g,{key:0,modelValue:a.pagination.pageNum,"onUpdate:modelValue":c[0]||(c[0]=e=>a.pagination.pageNum=e),pageSize:a.pagination.pageSize,"onUpdate:pageSize":c[1]||(c[1]=e=>a.pagination.pageSize=e),total:a.total,onChange:r},null,8,["modelValue","pageSize","total"])):m("v-if",!0),m(" end ")])])}}});var Y=z(X,[["__file","D:/project/2023/project-zzyl-v2.1/project-zzyl-admin-vue3-java/src/pages/liveIn/contract/components/TableList.vue"]]);const Z={class:"formBox"},ee=S({__name:"SearchForm",props:{searchData:{type:Object,default:()=>({})}},emits:["handleSearch","handleReset","handleClear"],setup(a,{emit:i}){const u=i,p=v(null),t=v([]),r=()=>{t.value=[],p.value.reset(),u("handleReset")},d=()=>{u("handleSearch",t.value)},c=(g,e)=>{e.trigger==="clear"&&u("handleClear",e.trigger)},f=g=>{u("handleClear",g)};return(g,e)=>{const b=s("t-input"),_=s("t-form-item"),F=s("t-col"),V=s("t-option"),A=s("t-select"),j=s("t-date-range-picker"),w=s("t-row"),k=s("t-form");return h(),N("div",Z,[l(k,{ref_key:"form",ref:p,model:a.searchData,"label-width":98},{default:n(()=>[l(w,null,{default:n(()=>[l(F,null,{default:n(()=>[l(_,{label:"\u5408\u540C\u7F16\u53F7\uFF1A",name:"contractNo"},{default:n(()=>[l(b,{modelValue:a.searchData.contractNo,"onUpdate:modelValue":e[0]||(e[0]=o=>a.searchData.contractNo=o),class:"form-item-content",type:"search",placeholder:"\u8BF7\u8F93\u5165",clearable:"",onClear:e[1]||(e[1]=o=>f("contractNo"))},null,8,["modelValue"])]),_:1})]),_:1}),l(F,null,{default:n(()=>[l(_,{label:"\u8001\u4EBA\u59D3\u540D\uFF1A",name:"elderName"},{default:n(()=>[l(b,{modelValue:a.searchData.elderName,"onUpdate:modelValue":e[2]||(e[2]=o=>a.searchData.elderName=o),class:"form-item-content",type:"search",placeholder:"\u8BF7\u8F93\u5165",clearable:"",onClear:e[3]||(e[3]=o=>f("elderName"))},null,8,["modelValue"])]),_:1})]),_:1}),l(F,null,{default:n(()=>[l(_,{label:"\u5408\u540C\u72B6\u6001\uFF1A",name:"status"},{default:n(()=>[l(A,{modelValue:a.searchData.status,"onUpdate:modelValue":e[4]||(e[4]=o=>a.searchData.status=o),clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9",onClear:e[5]||(e[5]=o=>f("status"))},{default:n(()=>[(h(!0),N(K,null,$(D(H),(o,T)=>(h(),E(V,{key:T,value:o.id,label:o.value,title:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(F,null,{default:n(()=>[l(_,{label:"\u5408\u540C\u671F\u9650\uFF1A",name:"timeData"},{default:n(()=>[l(j,{modelValue:t.value,"onUpdate:modelValue":e[6]||(e[6]=o=>t.value=o),placeholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],clearable:"",onChange:c},null,8,["modelValue"])]),_:1})]),_:1}),m(" \u6309\u94AE\u533A\u57DF "),l(F,{class:"searchBtn"},{default:n(()=>[C("button",{type:"button",class:"bt-grey wt-60",onClick:e[7]||(e[7]=o=>r())}," \u91CD\u7F6E "),C("button",{type:"button",class:"bt wt-60",onClick:e[8]||(e[8]=o=>d())}," \u641C\u7D22 ")]),_:1})]),_:1})]),_:1},8,["model"])])}}});var te=z(ee,[["__file","D:/project/2023/project-zzyl-v2.1/project-zzyl-admin-vue3-java/src/pages/liveIn/contract/components/SearchForm.vue"]]);const ae={class:"min-h subscribe bg-wt"},le=S({__name:"index",setup(a){const i=v([]),u=v(!1),p=v(0),t=v({pageSize:10,pageNum:1});W(()=>{r()});const r=async()=>{u.value=!1;try{const e=await O(t.value);i.value=e.data.records,p.value=Number(e.data.total)}finally{u.value=!1}},d=e=>{t.value.pageNum=1,e.length>0&&(t.value.startTime=I(e[0]),t.value.endTime=U(e[1])),r()},c=()=>{t.value={pageSize:10,pageNum:1},r()},f=e=>{t.value.pageNum=e.current,t.value.pageSize=e.pageSize,r()},g=e=>{e==="contractNo"?t.value.contractNo="":e==="elderName"?t.value.elderName="":e==="status"?t.value.status="":(t.value.startTime="",t.value.endTime=""),t.value={...t.value},r()};return(e,b)=>(h(),N("div",ae,[m(" \u7B5B\u9009\u533A\u57DF "),l(te,{"search-data":t.value,onHandleClear:g,onHandleSearch:d,onHandleReset:c},null,8,["search-data"]),m(" end "),m(" \u8868\u683C "),l(Y,{"list-data":i.value,pagination:t.value,total:p.value,onGetCurrent:f},null,8,["list-data","pagination","total"]),m(" end ")]))}});var re=z(le,[["__file","D:/project/2023/project-zzyl-v2.1/project-zzyl-admin-vue3-java/src/pages/liveIn/contract/index.vue"]]);export{re as default};
